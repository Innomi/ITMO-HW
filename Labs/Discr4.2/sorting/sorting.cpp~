#include <iostream>

using namespace std;

int main()
{
    freopen("less.out", "w", stdout);
    cout << "start: ss\naccept: ac\nreject: rj\nblank: $\nss 0 -> ssr 2 >\nss 1 -> ssr 3 >\nssr 0 -> ssr 0 >\nssr 1 -> ssr 1 >\nssr < -> ssr < >\nssr 4 -> ssrl 4 <\nssr 5 -> ssrl 5 <\nssr $ -> ssrl $ <\nssrl 0 -> ssl 4 <\nssrl 1 -> ssl 5 <\nssrl < -> rj < ^\nssl 0 -> ssl 0 <\nssl 1 -> ssl 1 <\nssl < -> ssl < <\nssl 2 -> sslr 2 >\nssl 3 -> sslr 3 >\nsslr 0 -> ssr 2 >\nsslr 1 -> ssr 3 >\nsslr < -> ssc < >\nssc 0 -> ac 0 ^\nssc 1 -> ac 1 ^\nssc 4 -> scr 4 <\nssc 5 -> scr 5 <\nscr 2 -> scr 2 <\nscr 3 -> scr 3 <\nscr < -> scr < <\nscr $ -> cl $ >\ncl 0 -> cl 0 >\ncl 1 -> cl 1 >\ncl 2 -> cl 0 >\ncl 3 -> cl 1 >\ncl 4 -> cl 0 >\ncl 5 -> cl 1 >\ncl < -> cl < >\ncl $ -> r $ <\nr 0 -> r 0 <\nr 1 -> r 1 <\nr < -> r < <\nr $ -> s $ >\ns 0 -> rz 2 >\ns 1 -> rnz 3 >\ns < -> rj < ^\nrz 0 -> rz 0 >\nrz 1 -> rz 1 >\nrz < -> z < >\nz 2 -> z 2 >\nz 3 -> z 3 >\nz 0 -> l 2 <\nz 1 -> ac 1 ^\nz $ -> rj $ ^\nrnz 0 -> rnz 0 >\nrnz 1 -> rnz 1 >\nrnz < -> nz < >\nnz 2 -> nz 2 >\nnz 3 -> nz 3 >\nnz 0 -> rj 0 ^\nnz 1 -> l 3 <\nnz $ -> rj $ ^\nl 2 -> l 2 <\nl 3 -> l 3 <\nl < -> c < <\nc 0 -> c 0 <\nc 1 -> c 1 <\nc 2 -> s 2 >\nc 3 -> s 3 >\n" << flush;
    return 0;
}
3\nS 0 _ _ -> S _ > 0 > 0 >\nS 1 _ _ -> S _ > 1 > 1 >\nS | _ _ -> S _ > | > | >\nS _ _ _ -> M _ ^ | ^ | <\n\nM _ | 0 -> M _ ^ | ^ 1 <\nM _ | 1 -> N _ ^ | < 0 <\nM _ | | -> C _ ^ | < | >\nM _ | x -> C _ ^ | < x >\nM _ | _ -> C _ ^ | < _ >\n\nC _ 0 1 -> C _ ^ 0 < 1 >\nC _ 1 1 -> C _ ^ 1 < 1 >\nC _ x | -> CPY _ ^ x > | ^\nC _ | | -> CPY _ ^ | > | ^\nC _ _ | -> CPY _ ^ _ > | ^\n\nCPY _ 0 | -> CPY 0 > 0 > | ^\nCPY _ 1 | -> CPY 1 > 1 > | ^\nCPY _ | | -> N | > x < x <\n\nN _ 0 0 -> N _ ^ 0 < 0 <\nN _ 0 1 -> N _ ^ 0 < 1 <\nN _ 1 0 -> N _ ^ 1 < 0 <\nN _ 1 1 -> N _ ^ 1 < 1 <\nN _ 0 | -> N _ ^ 0 < | ^\nN _ 1 | -> N _ ^ 1 < | ^\nN _ | | -> M _ ^ | ^ | <\nN _ x 0 -> N _ ^ x < 0 < \nN _ x 1 -> N _ ^ x < 1 <\nN _ x | -> N _ ^ x < | ^\nN _ 0 x -> N _ ^ 0 < x <\nN _ 1 x -> N _ ^ 1 < x <\nN _ | x -> N _ ^ | ^ x <\nN _ x x -> N _ ^ x < x <\nN _ x _ -> R _ ^ 0 > _ >\nN _ 0 _ -> R _ ^ 0 > _ >\nN _ 1 _ -> R _ ^ 1 > _ >\nN _ _ x -> R _ ^ _ > x >\nN _ _ 0 -> R _ ^ _ > 0 >\nN _ _ 1 -> R _ ^ _ > 1 >\nN _ _ _ -> R _ ^ _ > _ >\n\nR _ 0 0 -> R _ ^ 0 > 0 >\nR _ 0 1 -> R _ ^ 0 > 1 >\nR _ 1 0 -> R _ ^ 1 > 0 >\nR _ 1 1 -> R _ ^ 1 > 1 >\nR _ | 0 -> RP _ ^ | > 0 >\nR _ | 1 -> RP _ ^ | > 1 >\nR _ 0 | -> RP _ ^ 0 > | >\nR _ 1 | -> RP _ ^ 1 > | >\nR _ | | -> RP _ ^ | > | >\nR _ x 0 -> R _ ^ x > 0 > \nR _ x 1 -> R _ ^ x > 1 >\nR _ x | -> RP _ ^ x > | >\nR _ 0 x -> R _ ^ 0 > x >\nR _ 1 x -> R _ ^ 1 > x >\nR _ | x -> RP _ ^ | > x >\nR _ x x -> R _ ^ x > x >\nR _ _ 0 -> R _ ^ _ ^ 0 >\nR _ _ 1 -> R _ ^ _ ^ 1 >\nR _ _ | -> RP _ ^ _ ^ | >\nR _ _ x -> R _ ^ _ ^ x >\nR _ 0 _ -> R _ ^ 0 > _ ^\nR _ 1 _ -> R _ ^ 1 > _ ^\nR _ x _ -> R _ ^ x > _ ^\nR _ | _ -> RP _ ^ | > _ ^\nR _ _ _ -> END _ < _ ^ _ ^\n\nEND | _ _ -> ENDL _ < _ ^ _ ^\n\nENDL 0 _ _ -> ENDL 0 < _ ^ _ ^\nENDL 1 _ _ -> ENDL 1 < _ ^ _ ^\nENDL | _ _ -> ENDL | < _ ^ _ ^\nENDL _ _ _ -> AC _ > _ ^ _ ^\n\nRP _ 0 0 -> RP _ ^ 0 > 0 >\nRP _ 0 1 -> RP _ ^ 0 > 1 >\nRP _ 1 0 -> RP _ ^ 1 > 0 >\nRP _ 1 1 -> RP _ ^ 1 > 1 >\nRP _ | 0 -> RP _ ^ | > 0 >\nRP _ | 1 -> RP _ ^ | > 1 >\nRP _ 0 | -> RP _ ^ 0 > | >\nRP _ 1 | -> RP _ ^ 1 > | >\nRP _ | | -> RP _ ^ | > | >\nRP _ x 0 -> RP _ ^ x > 0 > \nRP _ x 1 -> RP _ ^ x > 1 >\nRP _ x | -> RP _ ^ x > | >\nRP _ 0 x -> RP _ ^ 0 > x >\nRP _ 1 x -> RP _ ^ 1 > x >\nRP _ | x -> RP _ ^ | > x >\nRP _ x x -> RP _ ^ x > x >\nRP _ _ 0 -> RP _ ^ _ ^ 0 >\nRP _ _ 1 -> RP _ ^ _ ^ 1 >\nRP _ _ | -> RP _ ^ _ ^ | >\nRP _ _ x -> RP _ ^ _ ^ x >\nRP _ 0 _ -> RP _ ^ 0 > _ ^\nRP _ 1 _ -> RP _ ^ 1 > _ ^\nRP _ x _ -> RP _ ^ x > _ ^\nRP _ | _ -> RP _ ^ | > _ ^\nRP _ _ _ -> N _ ^ _ < _ <\n