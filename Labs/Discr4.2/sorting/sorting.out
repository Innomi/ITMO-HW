3
S 0 _ _ -> S _ > 0 > 0 >
S 1 _ _ -> S _ > 1 > 1 >
S | _ _ -> S _ > | > | >
S _ _ _ -> M _ ^ | ^ | <

M _ | 0 -> M _ ^ | ^ 1 <
M _ | 1 -> N _ ^ | < 0 <
M _ | | -> C _ ^ | < | >
M _ | x -> C _ ^ | < x >
M _ | _ -> C _ ^ | < _ >

C _ 0 1 -> C _ ^ 0 < 1 >
C _ 1 1 -> C _ ^ 1 < 1 >
C _ x | -> CPY _ ^ x > | ^
C _ | | -> CPY _ ^ | > | ^
C _ _ | -> CPY _ ^ _ > | ^

CPY _ 0 | -> CPY 0 > 0 > | ^
CPY _ 1 | -> CPY 1 > 1 > | ^
CPY _ | | -> N | > x < x <

N _ 0 0 -> N _ ^ 0 < 0 <
N _ 0 1 -> N _ ^ 0 < 1 <
N _ 1 0 -> N _ ^ 1 < 0 <
N _ 1 1 -> N _ ^ 1 < 1 <
N _ 0 | -> N _ ^ 0 < | ^
N _ 1 | -> N _ ^ 1 < | ^
N _ | | -> M _ ^ | ^ | <
N _ x 0 -> N _ ^ x < 0 < 
N _ x 1 -> N _ ^ x < 1 <
N _ x | -> N _ ^ x < | ^
N _ 0 x -> N _ ^ 0 < x <
N _ 1 x -> N _ ^ 1 < x <
N _ | x -> N _ ^ | ^ x <
N _ x x -> N _ ^ x < x <
N _ x _ -> R _ ^ 0 > _ >
N _ 0 _ -> R _ ^ 0 > _ >
N _ 1 _ -> R _ ^ 1 > _ >
N _ _ x -> R _ ^ _ > x >
N _ _ 0 -> R _ ^ _ > 0 >
N _ _ 1 -> R _ ^ _ > 1 >
N _ _ _ -> R _ ^ _ > _ >

R _ 0 0 -> R _ ^ 0 > 0 >
R _ 0 1 -> R _ ^ 0 > 1 >
R _ 1 0 -> R _ ^ 1 > 0 >
R _ 1 1 -> R _ ^ 1 > 1 >
R _ | 0 -> RP _ ^ | > 0 >
R _ | 1 -> RP _ ^ | > 1 >
R _ 0 | -> RP _ ^ 0 > | >
R _ 1 | -> RP _ ^ 1 > | >
R _ | | -> RP _ ^ | > | >
R _ x 0 -> R _ ^ x > 0 > 
R _ x 1 -> R _ ^ x > 1 >
R _ x | -> RP _ ^ x > | >
R _ 0 x -> R _ ^ 0 > x >
R _ 1 x -> R _ ^ 1 > x >
R _ | x -> RP _ ^ | > x >
R _ x x -> R _ ^ x > x >
R _ _ 0 -> R _ ^ _ ^ 0 >
R _ _ 1 -> R _ ^ _ ^ 1 >
R _ _ | -> RP _ ^ _ ^ | >
R _ _ x -> R _ ^ _ ^ x >
R _ 0 _ -> R _ ^ 0 > _ ^
R _ 1 _ -> R _ ^ 1 > _ ^
R _ x _ -> R _ ^ x > _ ^
R _ | _ -> RP _ ^ | > _ ^
R _ _ _ -> END _ < _ ^ _ ^

END | _ _ -> ENDL _ < _ ^ _ ^

ENDL 0 _ _ -> ENDL 0 < _ ^ _ ^
ENDL 1 _ _ -> ENDL 1 < _ ^ _ ^
ENDL | _ _ -> ENDL | < _ ^ _ ^
ENDL _ _ _ -> AC _ > _ ^ _ ^

RP _ 0 0 -> RP _ ^ 0 > 0 >
RP _ 0 1 -> RP _ ^ 0 > 1 >
RP _ 1 0 -> RP _ ^ 1 > 0 >
RP _ 1 1 -> RP _ ^ 1 > 1 >
RP _ | 0 -> RP _ ^ | > 0 >
RP _ | 1 -> RP _ ^ | > 1 >
RP _ 0 | -> RP _ ^ 0 > | >
RP _ 1 | -> RP _ ^ 1 > | >
RP _ | | -> RP _ ^ | > | >
RP _ x 0 -> RP _ ^ x > 0 > 
RP _ x 1 -> RP _ ^ x > 1 >
RP _ x | -> RP _ ^ x > | >
RP _ 0 x -> RP _ ^ 0 > x >
RP _ 1 x -> RP _ ^ 1 > x >
RP _ | x -> RP _ ^ | > x >
RP _ x x -> RP _ ^ x > x >
RP _ _ 0 -> RP _ ^ _ ^ 0 >
RP _ _ 1 -> RP _ ^ _ ^ 1 >
RP _ _ | -> RP _ ^ _ ^ | >
RP _ _ x -> RP _ ^ _ ^ x >
RP _ 0 _ -> RP _ ^ 0 > _ ^
RP _ 1 _ -> RP _ ^ 1 > _ ^
RP _ x _ -> RP _ ^ x > _ ^
RP _ | _ -> RP _ ^ | > _ ^
RP _ _ _ -> N _ ^ _ < _ <
